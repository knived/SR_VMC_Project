<?xml version="1.0"?>
<robot name="VISPA_sat" xmlns:xacro="http://ros.org/wiki/xacro">

  <!-- Include the arm macro -->
  <xacro:include filename="VISPA.urdf.xacro"/>

  <!-- Satellite base -->
  <xacro:property name="a" value="0.8"/>
  <xacro:property name="m_sat" value="500.0"/>

  <link name="sat_base">
    <visual>
      <geometry><box size="${a} ${a} ${a}"/></geometry>
      <material name="grey"><color rgba="0.6 0.6 0.6 1.0"/></material>
    </visual>
    <inertial>
      <mass value="${m_sat}"/>
      <origin xyz="0 0 0"/>
      <inertia
        ixx="${m_sat * a * a / 6.0}"
        iyy="${m_sat * a * a / 6.0}"
        izz="${m_sat * a * a / 6.0}"
        ixy="0" ixz="0" iyz="0"/>
    </inertial>
  </link>

  <!-- Instantiate the arm macro -->
  <xacro:vispa_arm prefix=""/>

  <!-- Fixed joint from satellite to arm -->
  <joint name="sat_to_arm" type="fixed">
    <parent link="sat_base"/>
    <child  link="arm_base"/>
    <origin xyz="0 0 ${a/2}" rpy="0 0 0"/>
  </joint>

</robot>
